{"timestamp": 1766887024355, "session_id": "converted-from-frontend", "mode": "adk-bidi", "location": "frontend-sse-event", "direction": "out", "sequence_number": 1, "chunk": {"type": "start", "messageId": "14025256-2836-47c6-a1b5-886b75cdbe96"}}
{"timestamp": 1766887024355, "session_id": "converted-from-frontend", "mode": "adk-bidi", "location": "frontend-sse-event", "direction": "out", "sequence_number": 2, "chunk": {"type": "reasoning-start", "id": "0"}}
{"timestamp": 1766887024355, "session_id": "converted-from-frontend", "mode": "adk-bidi", "location": "frontend-sse-event", "direction": "out", "sequence_number": 3, "chunk": {"type": "reasoning-delta", "id": "0", "delta": "**Processing the Payment Request**\n\nI'm now formulating the tool call to process the $200 payment to \"次郎さん\".  The `process_payment` tool is the chosen method, with an amount of 200, recipient \"次郎さん\", and currency USD. This requires user approval. I'm ensuring the recipient is passed as a string, adhering to the tool's definition.\n\n\n"}}
{"timestamp": 1766887024355, "session_id": "converted-from-frontend", "mode": "adk-bidi", "location": "frontend-sse-event", "direction": "out", "sequence_number": 4, "chunk": {"type": "reasoning-end", "id": "0"}}
{"timestamp": 1766887024355, "session_id": "converted-from-frontend", "mode": "adk-bidi", "location": "frontend-sse-event", "direction": "out", "sequence_number": 5, "chunk": {"type": "reasoning-start", "id": "1"}}
{"timestamp": 1766887024355, "session_id": "converted-from-frontend", "mode": "adk-bidi", "location": "frontend-sse-event", "direction": "out", "sequence_number": 6, "chunk": {"type": "reasoning-delta", "id": "1", "delta": "**Formulating the Tool Call**\n\nI've finalized the structure of the `process_payment` tool call.  It's now encapsulated as `process_payment(amount=200, recipient='次郎さん', currency='USD')`.  This explicitly uses the correct data types, ensuring the recipient is a string. The user will be prompted for approval before execution.\n\n\n"}}
{"timestamp": 1766887024355, "session_id": "converted-from-frontend", "mode": "adk-bidi", "location": "frontend-sse-event", "direction": "out", "sequence_number": 7, "chunk": {"type": "reasoning-end", "id": "1"}}
{"timestamp": 1766887024355, "session_id": "converted-from-frontend", "mode": "adk-bidi", "location": "frontend-sse-event", "direction": "out", "sequence_number": 8, "chunk": {"type": "tool-input-start", "toolCallId": "function-call-1938664083173019154", "toolName": "process_payment"}}
{"timestamp": 1766887024355, "session_id": "converted-from-frontend", "mode": "adk-bidi", "location": "frontend-sse-event", "direction": "out", "sequence_number": 9, "chunk": {"type": "tool-input-available", "toolCallId": "function-call-1938664083173019154", "toolName": "process_payment", "input": {"recipient": "次郎さん", "amount": 200, "currency": "USD"}}}
{"timestamp": 1766887024355, "session_id": "converted-from-frontend", "mode": "adk-bidi", "location": "frontend-sse-event", "direction": "out", "sequence_number": 10, "chunk": {"type": "tool-approval-request", "toolCallId": "function-call-1938664083173019154", "approvalId": "adk-d0412343-0ccc-4669-93b8-fe8b594527aa"}}
{"timestamp": 1766887024355, "session_id": "converted-from-frontend", "mode": "adk-bidi", "location": "frontend-sse-event", "direction": "out", "sequence_number": 11, "chunk": {"type": "tool-output-error", "toolCallId": "function-call-1938664083173019154", "errorText": "User denied the payment"}}
{"timestamp": 1766887024355, "session_id": "converted-from-frontend", "mode": "adk-bidi", "location": "frontend-sse-event", "direction": "out", "sequence_number": 12, "chunk": {"type": "reasoning-start", "id": "2"}}
{"timestamp": 1766887024355, "session_id": "converted-from-frontend", "mode": "adk-bidi", "location": "frontend-sse-event", "direction": "out", "sequence_number": 13, "chunk": {"type": "reasoning-delta", "id": "2", "delta": "**Communicating Payment Failure**\n\nI've hit a roadblock. The payment attempt to 次郎さん was unfortunately denied. I need to relay this disappointing news to the user promptly, explaining the situation clearly and concisely.\n\n\n"}}
{"timestamp": 1766887024355, "session_id": "converted-from-frontend", "mode": "adk-bidi", "location": "frontend-sse-event", "direction": "out", "sequence_number": 14, "chunk": {"type": "reasoning-end", "id": "2"}}
{"timestamp": 1766887024355, "session_id": "converted-from-frontend", "mode": "adk-bidi", "location": "frontend-sse-event", "direction": "out", "sequence_number": 15, "chunk": {"type": "text-start", "id": "14025256-2836-47c6-a1b5-886b75cdbe96_output_text"}}
{"timestamp": 1766887024355, "session_id": "converted-from-frontend", "mode": "adk-bidi", "location": "frontend-sse-event", "direction": "out", "sequence_number": 16, "chunk": {"type": "text-delta", "id": "14025256-2836-47c6-a1b5-886b75cdbe96_output_text", "delta": "支払いは"}}
{"timestamp": 1766887024355, "session_id": "converted-from-frontend", "mode": "adk-bidi", "location": "frontend-sse-event", "direction": "out", "sequence_number": 17, "chunk": {"type": "text-delta", "id": "14025256-2836-47c6-a1b5-886b75cdbe96_output_text", "delta": "次郎"}}
{"timestamp": 1766887024355, "session_id": "converted-from-frontend", "mode": "adk-bidi", "location": "frontend-sse-event", "direction": "out", "sequence_number": 18, "chunk": {"type": "text-delta", "id": "14025256-2836-47c6-a1b5-886b75cdbe96_output_text", "delta": "さんに"}}
{"timestamp": 1766887024355, "session_id": "converted-from-frontend", "mode": "adk-bidi", "location": "frontend-sse-event", "direction": "out", "sequence_number": 19, "chunk": {"type": "text-delta", "id": "14025256-2836-47c6-a1b5-886b75cdbe96_output_text", "delta": "拒否"}}
{"timestamp": 1766887024355, "session_id": "converted-from-frontend", "mode": "adk-bidi", "location": "frontend-sse-event", "direction": "out", "sequence_number": 20, "chunk": {"type": "text-delta", "id": "14025256-2836-47c6-a1b5-886b75cdbe96_output_text", "delta": "されました。"}}
{"timestamp": 1766887024355, "session_id": "converted-from-frontend", "mode": "adk-bidi", "location": "frontend-sse-event", "direction": "out", "sequence_number": 21, "chunk": {"type": "text-end", "id": "14025256-2836-47c6-a1b5-886b75cdbe96_output_text"}}
{"timestamp": 1766887024355, "session_id": "converted-from-frontend", "mode": "adk-bidi", "location": "frontend-sse-event", "direction": "out", "sequence_number": 22, "chunk": {"type": "finish", "finishReason": "stop", "messageMetadata": {"usage": {"promptTokens": 1566, "completionTokens": null, "totalTokens": 1629}, "audio": {"chunks": 37, "bytes": 115200, "sampleRate": 24000, "duration": 2.4}, "modelVersion": "gemini-2.5-flash-native-audio-preview-12-2025"}}}
{"timestamp": 1766887024355, "session_id": "converted-from-frontend", "mode": "adk-bidi", "location": "frontend-sse-event", "direction": "out", "sequence_number": 23, "chunk": "[DONE]"}
